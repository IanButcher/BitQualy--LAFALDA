<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preview Evaluación</title>
</head>
<body>
    <h1>Preview de la Evaluación</h1>

    <h2>Formulario: <%= evaluacion.formulario.name %></h2>
    <h3>Empleado: <%= evaluacion.empleado %></h3>

    <table border="1">
        <thead>
            <tr>
                <th>Pregunta</th>
                <th>Respuesta</th>
            </tr>
        </thead>
        <tbody>
            <% evaluacion.formulario.questions.forEach((question, index) => { %>
                <tr>
                    <td><%= question.text %></td>
                    <td>
                        <!-- Display formatted answer, differentiating between single and multiple answers -->
                        <% if (typeof evaluacion.respuestas[index] === 'string') { %>
                            <%= evaluacion.respuestas[index] %>  <!-- Display the string response -->
                        <% } else if (Array.isArray(evaluacion.respuestas[index])) { %>
                            Seleccionado(s): <%= evaluacion.respuestas[index].join(', ') %>  <!-- Display multiple selections -->
                        <% } else { %>
                            <%= JSON.stringify(evaluacion.respuestas[index]) %> <!-- Fallback: Handle unexpected formats -->
                        <% } %>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>

    <a href="/evaluaciones">Volver a las evaluaciones</a>
</body>
</html>
